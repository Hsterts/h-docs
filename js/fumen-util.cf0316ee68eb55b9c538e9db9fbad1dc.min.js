colorMapping={S:7,J:6,T:5,Z:4,O:3,L:2,I:1},reverseMapping={7:4,4:7,6:2,2:6,5:5,3:3,1:1,0:0,8:8},reverseMappingLetters={L:"J",J:"L",S:"Z",Z:"S",T:"T",O:"O",I:"I"},reverseMappingRotation={spawn:"spawn",right:"left",reverse:"reverse",left:"right"};function mirrorFumen(n){var e=[],t=[];for(let t of n.split("	"))e.push(...t.split(/\s/));for(let n of e)try{let e=decoder.decode(n);for(let t=0;t<e.length;t++){toMirrorBoard=e[t]._field.field.pieces;for(let e=0;e<23;e++){row=toMirrorBoard.slice(e*10,(e+1)*10);for(let t=0;t<10;t++)toMirrorBoard[e*10+t]=reverseMapping[row[9-t]]}op=e[t].operation,op&&(op.type=reverseMappingLetters[op.type],op.x=9-op.x,"IO".includes(op.type)&&(op.rotation=="reverse"?op.x++:op.rotation=="left"&&op.type=="O"?op.x++:(op.rotation=="spawn"||op.type=="O")&&op.x--),"SZLJT".includes(op.type)&&(op.rotation=reverseMappingRotation[op.rotation]))}t.push(encoder.encode(e))}catch(e){console.log(n,e)}return t}