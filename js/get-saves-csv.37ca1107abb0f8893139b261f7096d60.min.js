saveFiles=[],data=[];function getSaves(n){let t=document.getElementById(n+"-display"),s=document.getElementById("rotationmode-toggle").checked?"90":"180",e=[];for(let t=0;t<7;t++){let s=document.getElementById("TILJSZO"[t]+"-"+n).checked;s&&e.push("TILJSZO"[t])}if(e.length){let a=n+"-"+s,o=saveFiles[a],i=0;for(let t=0;t<o.length-1;t++){let s=o[t+1],n=0;for(let t=0;t<e.length;t++){let o="TILJSZO".indexOf(e[t]);s[o]=="O"&&(n=1)}i+=n}t.innerHTML="<strong>"+e.join('')+"</strong>: "+(i/(o.length-1)*100).toFixed(2)+"%",t.className="save-selection filled"}else t.innerHTML="Select Save...",t.className="save-selection"}function loadSaveFiles(){let t=document.getElementsByTagName("saves"),e=[];for(let n=0;n<t.length;n++){let s=t[n].getAttribute("src"),o=s+"-90",i=s+"-180";e.push(o),e.push(i)}for(let t=0;t<e.length;t++){let n=e[t],s=window.location.origin+"/h-docs/attachments_saves/"+n+".csv";fetch(s).then(e=>e.text()).then(e=>{data=$.csv.toArrays(e),saveFiles[n]=data})}console.log(e.length+" save files loaded.")}function generateSaveInputs(){let e=document.getElementsByTagName("saves");for(let s=0;s<e.length;s++){if(e[s].children.length>0)continue;let t=e[s].getAttribute("src"),i=document.createElement("div");i.id=t+"-main",i.className="save-selection";let o=document.createElement("div");o.id=t+"-display",o.innerText="Select Save...",o.className="save-selection",o.setAttribute("onclick",'document.getElementById("'+t+'-inputs").style.display = "grid"; document.getElementById("'+t+'-inputs").focus()');let n=document.createElement("div");n.className="save-input",n.id=t+"-inputs",n.setAttribute("tabindex","0"),n.setAttribute("onblur",'document.getElementById("'+t+'-inputs").style.display = "none";');for(let s=0;s<7;s++){let o="TILJSZO"[s],e=document.createElement("input");e.id=o+"-"+t,e.type="checkbox",e.setAttribute("onclick","getSaves('"+t+"')");let i=document.createElement("label");i.setAttribute("for",o+"-"+t);let a=document.createElement("span");a.className="mino",a.innerText=o,n.append(e),n.append(i),i.append(a)}e[s].append(o),i.append(n),e[s].append(i)}}generateSaveInputs(),loadSaveFiles()