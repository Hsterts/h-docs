RegExp.escape=function(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")},function(){'use strict';let e;typeof jQuery!="undefined"&&jQuery?e=jQuery:e={},e.csv={defaults:{separator:",",delimiter:'"',headers:!0},hooks:{castToScalar:function(e){const t=/\./;if(isNaN(e))return e;if(t.test(e))return parseFloat(e);const integer=parseInt(e);return isNaN(integer)?null:integer}},parsers:{parse:function(f,e){const c=e.separator,i=e.delimiter;e.state.rowNum||(e.state.rowNum=1),e.state.colNum||(e.state.colNum=1);const l=[];let s=[],n=0,t='',u=!1;function r(){if(n=0,t='',e.start&&e.state.rowNum<e.start){s=[],e.state.rowNum++,e.state.colNum=1;return}if(e.onParseEntry===void 0)l.push(s);else{const t=e.onParseEntry(s,e.state);t!==!1&&l.push(t)}s=[],e.end&&e.state.rowNum>=e.end&&(u=!0),e.state.rowNum++,e.state.colNum=1}function o(){if(e.onParseValue===void 0)s.push(t);else if(e.headers&&e.state.rowNum===1)s.push(t);else{const n=e.onParseValue(t,e.state);n!==!1&&s.push(n)}t='',n=0,e.state.colNum++}const h=RegExp.escape(c),m=RegExp.escape(i);let d=/(D|S|\r\n|\n|\r|[^DS\r\n]+)/,a=d.source;return a=a.replace(/S/g,h),a=a.replace(/D/g,m),d=new RegExp(a,"gm"),f.replace(d,function(s){if(u)return;switch(n){case 0:if(s===c){t+='',o();break}if(s===i){n=1;break}if(/^(\r\n|\n|\r)$/.test(s)){o(),r();break}t+=s,n=3;break;case 1:if(s===i){n=2;break}t+=s,n=1;break;case 2:if(s===i){t+=s,n=1;break}if(s===c){o();break}if(/^(\r\n|\n|\r)$/.test(s)){o(),r();break}throw Error("CSVDataError: Illegal State [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]");case 3:if(s===c){o();break}if(/^(\r\n|\n|\r)$/.test(s)){o(),r();break}throw s===i?Error("CSVDataError: Illegal Quote [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]"):Error("CSVDataError: Illegal Data [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]");default:throw Error("CSVDataError: Unknown State [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]")}}),s.length!==0&&(o(),r()),l},splitLines:function(u,t){if(!u)return void 0;t=t||{};const a=t.separator||e.csv.defaults.separator,o=t.delimiter||e.csv.defaults.delimiter;t.state=t.state||{},t.state.rowNum||(t.state.rowNum=1);const c=[];let s=0,n='',d=!1;function r(){if(s=0,t.start&&t.state.rowNum<t.start){n='',t.state.rowNum++;return}if(t.onParseEntry===void 0)c.push(n);else{const e=t.onParseEntry(n,t.state);e!==!1&&c.push(e)}n='',t.end&&t.state.rowNum>=t.end&&(d=!0),t.state.rowNum++}const h=RegExp.escape(a),m=RegExp.escape(o);let l=/(D|S|\n|\r|[^DS\r\n]+)/,i=l.source;return i=i.replace(/S/g,h),i=i.replace(/D/g,m),l=new RegExp(i,"gm"),u.replace(l,function(e){if(d)return;switch(s){case 0:if(e===a){n+=e,s=0;break}if(e===o){n+=e,s=1;break}if(e==="\n"){r();break}if(/^\r$/.test(e))break;n+=e,s=3;break;case 1:if(e===o){n+=e,s=2;break}n+=e,s=1;break;case 2:{const i=n.substr(n.length-1);if(e===o&&i===o){n+=e,s=1;break}if(e===a){n+=e,s=0;break}if(e==="\n"){r();break}if(e==="\r")break;throw Error("CSVDataError: Illegal state [Row:"+t.state.rowNum+"]")}case 3:if(e===a){n+=e,s=0;break}if(e==="\n"){r();break}if(e==="\r")break;throw e===o?Error("CSVDataError: Illegal quote [Row:"+t.state.rowNum+"]"):Error("CSVDataError: Illegal state [Row:"+t.state.rowNum+"]");default:throw Error("CSVDataError: Unknown state [Row:"+t.state.rowNum+"]")}}),n!==''&&r(),c},parseEntry:function(r,e){const o=e.separator,s=e.delimiter;e.state.rowNum||(e.state.rowNum=1),e.state.colNum||(e.state.colNum=1);const a=[];let n=0,t='';function i(){if(e.onParseValue===void 0)a.push(t);else{const n=e.onParseValue(t,e.state);n!==!1&&a.push(n)}t='',n=0,e.state.colNum++}if(!e.match){const n=RegExp.escape(o),i=RegExp.escape(s),a=/(D|S|\n|\r|[^DS\r\n]+)/;let t=a.source;t=t.replace(/S/g,n),t=t.replace(/D/g,i),e.match=new RegExp(t,"gm")}return r.replace(e.match,function(a){switch(n){case 0:if(a===o){t+='',i();break}if(a===s){n=1;break}if(a==="\n"||a==="\r")break;t+=a,n=3;break;case 1:if(a===s){n=2;break}t+=a,n=1;break;case 2:if(a===s){t+=a,n=1;break}if(a===o){i();break}if(a==="\n"||a==="\r")break;throw Error("CSVDataError: Illegal State [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]");case 3:if(a===o){i();break}if(a==="\n"||a==="\r")break;throw a===s?Error("CSVDataError: Illegal Quote [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]"):Error("CSVDataError: Illegal Data [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]");default:throw Error("CSVDataError: Unknown State [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]")}}),i(),a}},helpers:{collectPropertyNames:function(t){let n=[],e=[];const s=[];for(n in t)for(e in t[n])t[n].hasOwnProperty(e)&&s.indexOf(e)<0&&typeof t[n][e]!="function"&&s.push(e);return s}},toArray:function(i,t,s){if(t!==void 0&&typeof t=="function"){if(s!==void 0)return console.error("You cannot 3 arguments with the 2nd argument being a function");s=t,t={}}t=t!==void 0?t:{};const n={};n.callback=!!(s!==void 0&&typeof s=="function")&&s,n.separator="separator"in t?t.separator:e.csv.defaults.separator,n.delimiter="delimiter"in t?t.delimiter:e.csv.defaults.delimiter;const a=t.state!==void 0?t.state:{};t={delimiter:n.delimiter,separator:n.separator,onParseEntry:t.onParseEntry,onParseValue:t.onParseValue,state:a};const o=e.csv.parsers.parseEntry(i,t);if(!n.callback)return o;n.callback('',o)},toArrays:function(i,t,s){if(t!==void 0&&typeof t=="function"){if(s!==void 0)return console.error("You cannot 3 arguments with the 2nd argument being a function");s=t,t={}}t=t!==void 0?t:{};const n={};n.callback=!!(s!==void 0&&typeof s=="function")&&s,n.separator="separator"in t?t.separator:e.csv.defaults.separator,n.delimiter="delimiter"in t?t.delimiter:e.csv.defaults.delimiter;let o=[];if(t={delimiter:n.delimiter,separator:n.separator,onPreParse:t.onPreParse,onParseEntry:t.onParseEntry,onParseValue:t.onParseValue,onPostParse:t.onPostParse,start:t.start,end:t.end,state:{rowNum:1,colNum:1}},t.onPreParse!==void 0&&(i=t.onPreParse(i,t.state)),o=e.csv.parsers.parse(i,t),t.onPostParse!==void 0&&(o=t.onPostParse(o,t.state)),!n.callback)return o;n.callback('',o)},toObjects:function(i,t,o){if(t!==void 0&&typeof t=="function"){if(o!==void 0)return console.error("You cannot 3 arguments with the 2nd argument being a function");o=t,t={}}t=t!==void 0?t:{};const n={};n.callback=!!(o!==void 0&&typeof o=="function")&&o,n.separator="separator"in t?t.separator:e.csv.defaults.separator,n.delimiter="delimiter"in t?t.delimiter:e.csv.defaults.delimiter,n.headers="headers"in t?t.headers:e.csv.defaults.headers,t.start="start"in t?t.start:1,n.headers&&t.start++,t.end&&n.headers&&t.end++;let a=[],s=[];t={delimiter:n.delimiter,separator:n.separator,onPreParse:t.onPreParse,onParseEntry:t.onParseEntry,onParseValue:t.onParseValue,onPostParse:t.onPostParse,start:t.start,end:t.end,state:{rowNum:1,colNum:1},match:!1,transform:t.transform};const c={delimiter:n.delimiter,separator:n.separator,start:1,end:1,state:{rowNum:1,colNum:1},headers:!0};t.onPreParse!==void 0&&(i=t.onPreParse(i,t.state));const l=e.csv.parsers.splitLines(i,c),r=e.csv.toArray(l[0],c);a=e.csv.parsers.splitLines(i,t),t.state.colNum=1,r?t.state.rowNum=2:t.state.rowNum=1;for(let n=0,i=a.length;n<i;n++){const c=e.csv.toArray(a[n],t),o={};for(let e=0;e<r.length;e++)o[r[e]]=c[e];t.transform!==void 0?s.push(t.transform.call(void 0,o)):s.push(o),t.state.rowNum++}if(t.onPostParse!==void 0&&(s=t.onPostParse(s,t.state)),!n.callback)return s;n.callback('',s)},fromArrays:function(i,n,s){if(n!==void 0&&typeof n=="function"){if(s!==void 0)return console.error("You cannot 3 arguments with the 2nd argument being a function");s=n,n={}}n=n!==void 0?n:{};const t={};t.callback=!!(s!==void 0&&typeof s=="function")&&s,t.separator="separator"in n?n.separator:e.csv.defaults.separator,t.delimiter="delimiter"in n?n.delimiter:e.csv.defaults.delimiter;let o='';for(let n=0;n<i.length;n++){const e=i[n],s=[];for(let o=0;o<e.length;o++){let n=e[o]===void 0||e[o]===null?'':e[o].toString();n.indexOf(t.delimiter)>-1&&(n=n.replace(new RegExp(t.delimiter,"g"),t.delimiter+t.delimiter));let i="\n|\r|S|D";i=i.replace("S",t.separator),i=i.replace("D",t.delimiter),n.search(i)>-1&&(n=t.delimiter+n+t.delimiter),s.push(n)}o+=s.join(t.separator)+"\n"}if(!t.callback)return o;t.callback('',o)},fromObjects:function(s,t,i){if(t!==void 0&&typeof t=="function"){if(i!==void 0)return console.error("You cannot 3 arguments with the 2nd argument being a function");i=t,t={}}t=t!==void 0?t:{};const n={};if(n.callback=!!(i!==void 0&&typeof i=="function")&&i,n.separator="separator"in t?t.separator:e.csv.defaults.separator,n.delimiter="delimiter"in t?t.delimiter:e.csv.defaults.delimiter,n.headers="headers"in t?t.headers:e.csv.defaults.headers,n.sortOrder="sortOrder"in t?t.sortOrder:"declare",n.manualOrder="manualOrder"in t?t.manualOrder:[],n.transform=t.transform,typeof n.manualOrder=="string"&&(n.manualOrder=e.csv.toArray(n.manualOrder,n)),n.transform!==void 0){const e=s;s=[];for(let t=0;t<e.length;t++)s.push(n.transform.call(void 0,e[t]))}let o=e.csv.helpers.collectPropertyNames(s);if(n.sortOrder==="alpha"&&o.sort(),n.manualOrder.length>0){const e=[].concat(n.manualOrder);for(let t=0;t<o.length;t++)e.indexOf(o[t])<0&&e.push(o[t]);o=e}let a;const c=[];let r;n.headers&&c.push(o);for(let e=0;e<s.length;e++){a=[];for(let t=0;t<o.length;t++)r=o[t],r in s[e]&&typeof s[e][r]!="function"?a.push(s[e][r]):a.push('');c.push(a)}return e.csv.fromArrays(c,t,n.callback)}},e.csvEntry2Array=e.csv.toArray,e.csv2Array=e.csv.toArrays,e.csv2Dictionary=e.csv.toObjects,typeof module!="undefined"&&module.exports&&(module.exports=e.csv)}.call(this)