solutionFiles=[];function selectSetup(t,c){let s=document.getElementById("solution-finder-selection-main"),e=[...document.getElementsByClassName("selection-fumen")],o=document.getElementById(t+"-selection-fumen"),i=document.getElementsByClassName("solution-finder-display-image")[0],a=rotationMode=="with180"?"-180":"-90";for(let t=0;t<e.length;t++)e[t].className="selection-fumen";o.className="selection-fumen selected",selectedFileName=t+a;let r=5,n=10,l=22,d=!1,u=null,h=!0,m=null,f=500,p=!1,g=null;i.src=draw(decoder.decode(c)[0],{numrows:r,numcols:n,cellSize:l,gridToggle:d,gridColor:u,transparency_four:h,background:m,delay:f,lock:p,outline:g}).toDataURL("image/png"),s.style.display="none"}function getSolutions(){let e=document.getElementsByClassName("solution-finder-input")[0],t=e.value,n=Object.keys(solutionFiles).indexOf(selectedFileName);t.length==7}function loadSolutionFiles(){let t=[],n=Array.from(document.getElementsByClassName("setup-image"),e=>e.children[0].getAttribute("id")),e=[];for(let t=0;t<n.length;t++){let s=n[t],o=s+"-90",i=s+"-180";e.push(o),e.push(i)}for(let n=0;n<e.length;n++){let s=e[n],o=window.location.origin+"/h-docs/attachments_solutions/"+s+".csv";fetch(o).then(e=>e.text()).then(e=>{t=$.csv.toArrays(e),solutionFiles[s]=t})}console.log(e.length+" solution files loaded.")}function generatePCSF(){let e=document.getElementById("solution-finder-base");if(e){loadSolutionFiles();let l=document.createElement("section");l.setAttribute("id","solution-finder");let v=document.createElement("div");v.setAttribute("class","solution-finder-body");let t=document.createElement("div");t.setAttribute("class","pc-solution-finder");let g=document.createElement("h2");g.setAttribute("class","solution-finder-title"),g.innerText="Solution Finder";let a=document.createElement("div");a.setAttribute("class","solution-finder-query");let n=document.createElement("div");n.setAttribute("id","solution-finder-display");let m=document.createElement("h3");m.setAttribute("class","solution-finder-display-title"),m.innerText="Selected Setup";let c=document.createElement("img");c.setAttribute("class","solution-finder-display-image"),c.setAttribute("onclick",'document.getElementById("solution-finder-selection-main").style.display = ""');let d=document.createElement("div");d.setAttribute("id","solution-finder-selection-main");let s=document.createElement("div");s.setAttribute("id","solution-finder-selection-body");let u=document.createElement("h2");u.setAttribute("class","solution-finder-selection-title"),u.innerText="Setup Selection";let h=document.createElement("div");h.setAttribute("id","solution-finder-selection");let r=document.createElement("div");r.setAttribute("class","solution-finder-input-body");let f=document.createElement("h3");f.setAttribute("class","solution-finder-input-title"),f.innerText="Input";let p=document.createElement("div");p.setAttribute("style","display: flex; flex-direction: row;");let i=document.createElement("div");i.setAttribute("class","input-item");let j=document.createElement("b");j.innerText="Queue";let o=document.createElement("textarea");o.setAttribute("class","solution-finder-input"),o.setAttribute("maxlength","7"),o.addEventListener("input",getSolutions);let y=document.createElement("hr");y.setAttribute("class","small divider");let _=document.createElement("div");_.setAttribute("class","solution-finder-outputs"),e.appendChild(l),l.appendChild(v),v.appendChild(t),t.appendChild(g),t.appendChild(a),a.appendChild(n),n.appendChild(m),n.appendChild(c),n.appendChild(d),d.appendChild(s),s.appendChild(u),s.appendChild(h),a.appendChild(r),r.appendChild(f),r.appendChild(p),p.appendChild(i),i.appendChild(j),i.appendChild(o),t.appendChild(y),t.appendChild(_);let b=document.getElementsByClassName("setup-image");for(let t=0;t<b.length;t++){let s=b[t].children[0].getAttribute("id"),n=b[t].children[0].innerText,e=document.createElement("fumen");if(e.innerText=n,e.setAttribute("id",s+"-selection-fumen"),e.setAttribute("clipboard",!1),e.setAttribute("onclick",'selectSetup("'+s+'", "'+n+'")'),e.className="selection-fumen",h.appendChild(e),t==0){let e=5,t=10,o=22,i=!1,a=null,r=!0,l=null,d=500,u=!1,h=null;c.src=draw(decoder.decode(n)[0],{numrows:e,numcols:t,cellSize:o,gridToggle:i,gridColor:a,transparency_four:r,background:l,delay:d,lock:u,outline:h}).toDataURL("image/png"),selectSetup(s,n)}}}}generatePCSF()